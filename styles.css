/* Modern UI: variables, layout, table/card styles - no JS changes required */
:root{
  --bg-1: #0f0f11;           /* oscuro neutro */
  --bg-2: #151518;           /* gris muy oscuro */
  --card: rgba(255,255,255,0.03);
  --muted: #bfc6cc;          /* gris apagado para textos secundarios */
  --accent: #e6e9ec;         /* acento neutro (blanco suave) */
  --glass: rgba(255,255,255,0.02);
  --radius: 12px;
  --max-width: 1100px;
  --gap: 18px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  padding:32px 20px;
  display:flex;
  flex-direction:column; /* apilar: main arriba, footer abajo */
  align-items:center;
  min-height:100vh;
  gap:var(--gap);
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(180deg,var(--bg-1),var(--bg-2));
  color:#eef0f2; /* texto principal en blanco suave */
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* el área principal ocupa el espacio restante */
.main{
  display:flex;
  gap:18px;
  width:100%;
  max-width:var(--max-width);
  box-sizing:border-box;
  align-items:flex-start;
  flex:1 1 auto; /* ocupa espacio para empujar footer al final */
  flex-wrap:wrap; /* permite responsividad */
}

/* dentro de .main, mantener tus bloques horizontales */
.main > #clickDiv,
.main > .extras.container {
  flex: 1 1 48%;
  min-width:300px;
}

/* Central container to keep layout tidy */
.container{
  width:100%;
  max-width:var(--max-width);
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
  border-radius:var(--radius);
  padding:20px;
  box-shadow: 0 6px 30px rgba(0,0,0,0.6);
  backdrop-filter: blur(6px);
  border: 1px solid rgba(255,255,255,0.03);
}

/* Header */
.header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom:18px;
}
.header .title{
  display:flex;
  gap:12px;
  align-items:center;
  font-weight:600;
  letter-spacing:0.2px;
}
.logo{
  width:44px;
  height:44px;
  border-radius:10px;
  background:linear-gradient(135deg,var(--accent),#d1d4d7);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  color:#101214;
  font-weight:700;
  box-shadow: 0 6px 16px rgba(0,0,0,0.5);
}

/* Controls (search, filters) */
.controls{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
}
.controls input[type="search"], .controls select{
  background:var(--glass);
  border:1px solid rgba(255,255,255,0.03);
  color:var(--muted);
  padding:10px 12px;
  border-radius:10px;
  outline:none;
  transition: all .15s ease;
}
.controls input[type="search"]:focus, .controls select:focus{
  box-shadow: 0 4px 18px rgba(0,0,0,0.45), 0 0 0 4px rgba(230,233,236,0.06);
  color: #eef0f2;
  border-color: rgba(230,233,236,0.12);
}

/* Buttons */
button{
  background: linear-gradient(90deg,var(--accent),#d1d4d7);
  color:#0b0b0c;
  padding:10px 14px;
  border-radius:10px;
  border:none;
  cursor:pointer;
  font-weight:600;
  transition: transform .12s ease, box-shadow .12s ease;
  box-shadow: 0 6px 18px rgba(0,0,0,0.45);
}
button:hover{ transform:translateY(-2px) }
button:active{ transform:translateY(0) }

/* Main content layouts */
.grid{
  display:grid;
  grid-template-columns: 1fr;
  gap:14px;
}
@media(min-width:900px){
  .grid{
    grid-template-columns: 1fr 360px;
  }
}

/* Cards list for anime items */
.anime-list{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(220px,1fr));
  gap:14px;
}
.anime-card{
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
  border-radius:12px;
  padding:12px;
  display:flex;
  gap:10px;
  align-items:flex-start;
  border:1px solid rgba(255,255,255,0.03);
  transition: transform .12s ease, box-shadow .12s ease;
}
.anime-card:hover{
  transform: translateY(-6px);
  box-shadow: 0 10px 30px rgba(0,0,0,0.55);
}
.anime-card img{
  width:72px;
  height:100px;
  object-fit:cover;
  border-radius:8px;
  flex-shrink:0;
  background:linear-gradient(180deg,#0b0b0d,#121316);
}
.anime-card .meta{
  flex:1;
  display:flex;
  flex-direction:column;
  gap:6px;
}
.anime-card .name{
  font-weight:600;
  color:#f6f7f8;
  font-size:0.98rem;
}
.anime-card .sub{
  color:var(--muted);
  font-size:0.86rem;
}

/* Table fallback: if the project uses tables */
table{
  width:100%;
  border-collapse:collapse;
  background:transparent;
}
thead th{
  text-align:left;
  padding:12px;
  font-weight:600;
  color:var(--muted);
  font-size:0.9rem;
  border-bottom:1px dashed rgba(255,255,255,0.03);
}
tbody td{
  padding:12px;
  border-bottom:1px solid rgba(255,255,255,0.02);
  color:#eef0f2;
  vertical-align:middle;
}
tbody tr:hover td{
  background: linear-gradient(90deg, rgba(230,233,236,0.02), rgba(208,210,213,0.02));
}

/* Badges (popularity/score) */
.badge{
  display:inline-block;
  padding:6px 8px;
  border-radius:999px;
  font-weight:600;
  font-size:0.82rem;
  background: rgba(255,255,255,0.03);
  color:var(--muted);
}

/* Empty / loader states */
.empty, .loader{
  text-align:center;
  color:var(--muted);
  padding:28px;
  border-radius:8px;
}

/* Responsive tweaks */
@media(max-width:700px){
  body{padding:16px}
  .header{flex-direction:column; align-items:flex-start}
  .grid{grid-template-columns:1fr}
}

#audioToggle{
  margin-bottom:10px;
  border-radius:10px;
  font-weight:700;
}
#audioToggle.active{
  box-shadow: 0 8px 28px rgba(0,0,0,0.45);
}

.extras.container{
  max-width: var(--max-width);
  color: #e9ecef;
}
.card-feature{
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.03);
  box-shadow: 0 8px 24px rgba(0,0,0,0.45);
}
.mini-grid{ display:flex; flex-wrap:wrap; gap:12px; align-items:flex-start; }
.mini-poster-link{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:180px;        /* ancho del botón */
  height:280px;       /* alto del botón */
  min-width:120px;
  border-radius:10px;
  overflow:hidden;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.03));
  padding:6px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.45);
  transition: transform .14s ease, box-shadow .14s ease;
  cursor: pointer;
  text-decoration: none;
}
.mini-poster{
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:6px;
  display:block;
  transition: transform .18s ease, filter .18s ease;
}

/* efectos al pasar el ratón */
.mini-poster-link:hover{
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 14px 36px rgba(0,0,0,0.6);
}
.mini-poster-link:active{ transform: translateY(-2px) scale(0.997); }
.mini-poster-link:focus{ outline: 2px solid rgba(230,233,236,0.06); outline-offset:3px; }

@media (max-width:700px){
  .mini-poster-link{ width:96px; height:140px; min-width:96px; }
}

/* Footer: recuadro al final de la página */
.site-footer{
  width:100%;
  max-width:var(--max-width);
  margin:0 auto 0;
  padding:16px 20px;
  border-radius:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
  border:1px solid rgba(255,255,255,0.03);
  box-shadow: 0 8px 28px rgba(0,0,0,0.5);
  color:var(--muted);
  text-align:center;
  align-self:center;
}

/* enlaces del footer */
.site-footer a{
  color:var(--accent);
  text-decoration:none;
  font-weight:600;
}
.site-footer a:hover{
  text-decoration:underline;
}

/* Forzar que pseudo-elementos y overlays no aparezcan encima del footer */
html::before, html::after,
body::before, body::after,
.container::before, .container::after,
#clickDiv::before, #clickDiv::after,
.extras.container::before, .extras.container::after {
  content: none !important;
  display: none !important;
  background: transparent !important;
  pointer-events: none !important;
}

/* ocultar overlays comunes inyectados por scripts si existen */
.overlay, .glass, .floating-overlay, .ui-overlay, .site-overlay {
  display: none !important;
  pointer-events: none !important;
}

/* asegurar footer por encima */
.site-footer {
  position: relative !important;
  z-index: 9999 !important;
}

/* Fix responsive layout for the top-3 "pop" cards on small screens */
#pop .d-flex{
  display:flex;
  gap:18px;
  flex-wrap:wrap;
  align-items:flex-start;
  justify-content:space-between;
}

/* Prevent large bootstrap padding from breaking layout on small screens */
@media (max-width: 900px){
  #pop .d-flex.p-5{ padding:1rem !important; }
}

/* Mobile: stack the three items, center them and limit image size */
@media (max-width: 700px){
  #pop .d-flex{
    flex-direction:column;
    align-items:center;
    justify-content:flex-start;
    padding:12px !important;
  }

  /* each item becomes full-width (but limited) and spaced */
  #pop .d-flex > div{
    flex: 0 0 100%;
    max-width: 420px;
    width: 100%;
    margin: 8px 0;
    text-align:center;
    padding:6px 0;
  }

  /* posters scale and stay proportional */
  #pop_poster1, #pop_poster2, #pop_poster3{
    width: auto;
    max-width: 55%;
    height: auto;
    display:block;
    margin: 6px auto 0 auto;
  }

  /* titles spacing */
  #pop .d-flex > div h3{
    margin: 6px 0 0 0;
    font-size: 1rem;
  }
}

/* Desktop: forzar 3 columnas para el bloque "Most Popular" */
@media (min-width: 900px) {
  #pop .d-flex{
    flex-wrap:nowrap;
    justify-content:space-between;
    align-items:flex-start;
  }

  /* cada item ocupa ~1/3 del ancho y se centra internamente */
  #pop .d-flex > div{
    flex: 0 0 calc(33.333% - 12px);
    max-width: calc(33.333% - 12px);
    box-sizing: border-box;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:8px;
    text-align:center;
  }

  /* ajustar títulos y espaciado */
  #pop .d-flex > div h3{
    margin:6px 0 0;
    font-size:1rem;
    line-height:1.1;
  }

  /* posters centrados y con tamaño máximo razonable */
  #pop .d-flex > div img{
    max-width:160px;
    width:auto;
    height:auto;
    display:block;
    margin-top:8px;
  }
}

/* Animación suave para rotatingQuote */
#rotatingQuote {
  transition: opacity 180ms ease;
  opacity: 1;
  display: inline-block;
  max-width: 100%;
}
#rotatingQuote.quote-fade {
  opacity: 0;
}

/* Estilos para el panel de extras con más info */
.extras-wrapper {
  display: flex;
  gap: 24px;
  align-items: stretch;
  width: 100%;
}

.extras-wrapper > div {
  flex: 1;
}

.info-panel {
  display: flex;
  flex-direction: column;
  gap: 12px;
  background: linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 12px;
  padding: 20px;
  backdrop-filter: blur(8px);
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  transition: all 0.3s ease;
}

.info-panel:hover {
  background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.03));
  border-color: rgba(255,255,255,0.15);
  box-shadow: 0 6px 30px rgba(0,0,0,0.4);
  transform: translateY(-2px);
}

.info-header {
  font-size: 16px;
  font-weight: 600;
  color: var(--accent);
  text-align: center;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

.wiki-button {
  display: flex;
  align-items: center;
  justify-content: center;
  flex: 1;
  min-height: 200px;
  border-radius: 8px;
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.1);
  transition: all 0.3s ease;
  cursor: pointer;
  overflow: hidden;
  text-decoration: none;
}

.wiki-button:hover {
  background: rgba(255,255,255,0.05);
  border-color: rgba(255,255,255,0.2);
  transform: scale(1.02);
}

.wiki-image {
  width: 140px;
  height: auto;
  object-fit: contain;
  transition: all 0.3s ease;
  filter: brightness(0.9) drop-shadow(0 2px 8px rgba(0,0,0,0.4));
}

.wiki-button:hover .wiki-image {
  filter: brightness(1.1) drop-shadow(0 4px 12px rgba(0,0,0,0.6));
  transform: scale(1.05);
}

@media (max-width: 768px) {
  .extras-wrapper {
    flex-direction: column;
    gap: 18px;
  }

  .info-panel {
    flex-direction: column;
  }

  .wiki-button {
    min-height: 150px;
  }

  .wiki-image {
    width: 100px;
  }
}
